# Chorus Bridge Configuration
# Copy this file to .env and update the values

# Instance Configuration
BRIDGE_INSTANCE_ID=bridge-prod
BRIDGE_DATABASE_URL=postgresql+psycopg://bridge:password@localhost:5432/chorus_bridge
BRIDGE_TRUST_STORE_PATH=/app/trust.json

# Conductor Configuration
BRIDGE_CONDUCTOR_MODE=http
BRIDGE_CONDUCTOR_PROTOCOL=grpc
BRIDGE_CONDUCTOR_BASE_URL=https://conductor.chorus.local:50051

# Security Configuration
BRIDGE_JWT_ENFORCEMENT_ENABLED=true
BRIDGE_JWT_PUBLIC_KEY=your-jwt-public-key-here
BRIDGE_BRIDGE_PRIVATE_KEY=your-bridge-private-key-here
BRIDGE_BRIDGE_JWT_SIGNING_KEY=your-bridge-jwt-signing-key-here

# ActivityPub Configuration
BRIDGE_ACTIVITYPUB_ACTOR_DOMAIN=bridge.chorus.social
BRIDGE_ACTIVITYPUB_TARGETS=https://mastodon.social,https://mastodon.online

# Federation Configuration
BRIDGE_FEDERATION_TARGET_STAGES=https://stage1.chorus.social,https://stage2.chorus.social
BRIDGE_FEDERATION_POST_ANNOUNCE_ENABLED=true
BRIDGE_FEDERATION_USER_REGISTRATION_ENABLED=false
BRIDGE_FEDERATION_MODERATION_EVENTS_ENABLED=true
BRIDGE_FEDERATION_DAY_PROOF_CONSUMPTION_ENABLED=true
BRIDGE_FEDERATION_COMMUNITY_CREATION_ENABLED=true
BRIDGE_FEDERATION_USER_UPDATE_ENABLED=true
BRIDGE_FEDERATION_COMMUNITY_UPDATE_ENABLED=true
BRIDGE_FEDERATION_COMMUNITY_MEMBERSHIP_UPDATE_ENABLED=true

# Rate Limiting
BRIDGE_FEDERATION_RATE_LIMITS_DEFAULT_RPS=10
BRIDGE_FEDERATION_RATE_LIMITS_BURST=50

# Monitoring
BRIDGE_PROMETHEUS_PORT=9090

# libp2p Configuration
BRIDGE_LIBP2P_BOOTSTRAP_PEERS=/ip4/1.2.3.4/tcp/4001/p2p/QmABC,/ip4/5.6.7.8/tcp/4001/p2p/QmDEF
BRIDGE_LIBP2P_LISTEN_ADDRESS=/ip4/0.0.0.0/tcp/4001

# Database Configuration
POSTGRES_DB=chorus_bridge
POSTGRES_USER=bridge
POSTGRES_PASSWORD=secure-password-here

# Monitoring Configuration
GRAFANA_PASSWORD=admin
